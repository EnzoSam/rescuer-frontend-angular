import{j as u,k as h}from"./chunk-XYCD3XRP.js";import{J as c,M as n,pb as l}from"./chunk-GA2MPP4C.js";var g=(()=>{let r=class r extends u{constructor(e){super(e),this._httpClient=e}};r.\u0275fac=function(t){return new(t||r)(n(l))},r.\u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var C=(()=>{let r=class r extends g{constructor(e,t){super(e),this._httpClient=e,this._iuService=t,this.nameSpace="auth"}newLogin(){return{email:"",password:""}}newRegister(){return{email:"",name:"",lastName:"",password:""}}httpClient(){}initRegister(e){return new Promise((t,s)=>{this._httpClient.post(this.getBaseUrlNameSpace()+"no-auth/register",e).subscribe(i=>{t(i)},i=>{s({statusCode:500,message:i})})})}login(e){return new Promise((t,s)=>{this._httpClient.post(this.getBaseUrlNameSpace()+"no-auth/login",e).subscribe(i=>{t(i)},i=>{s(i)})})}validateMail(e,t){return new Promise((s,i)=>{let m={email:e,token:t};this._httpClient.post(this.getBaseUrlNameSpace()+"no-auth/confirm-email",m).subscribe(o=>{s(o)},o=>{i(o)})})}rememberUser(e,t){let s={userName:e,token:t};console.log(s),localStorage.setItem("auth",JSON.stringify(s)),this._iuService.loadAuthentication()}logOut(){localStorage.removeItem("auth"),this._iuService.clearAuth()}requestResetPassword(e){return new Promise((t,s)=>{this._httpClient.post(this.getBaseUrlNameSpace()+"no-auth/request-reset-password",{}).subscribe(i=>{t(i)},i=>{s(i)})})}changePassword(e,t,s){return new Promise((i,m)=>{let o={email:e,token:t,newPassword:s};this._httpClient.post(this.getBaseUrlNameSpace()+"no-auth/change-password",o).subscribe(p=>{i(p)},p=>{m(p)})})}getById(e){return new Promise((t,s)=>{this._httpClient.get(this.getBaseUrlNameSpace()+""+e).subscribe(i=>{t(i)},i=>{s({statusCode:500,message:i})})})}};r.\u0275fac=function(t){return new(t||r)(n(l),n(h))},r.\u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();export{C as a};
