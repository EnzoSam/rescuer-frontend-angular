import{a as Y,b as Z}from"./chunk-5CKZ53WY.js";import{A as H,C as R,E as J,H as K,I as Q,J as U,L as W,M as X,N as y,O as S,P as b,a as P,i as v,n as B,o as G,s as A,t as $,v as j,w as E,y as L,z}from"./chunk-MWYAYKLC.js";import{Aa as a,Ba as r,Ca as I,Ga as N,Ka as d,Ma as _,O as C,Ra as c,S as w,T as F,Va as h,ga as s,ha as f,ja as p,mb as D,oa as l,ob as M,pc as g,rc as x,ua as u,va as O,wa as V,ya as q,za as k}from"./chunk-6X42ZUM2.js";function rt(o,t){o&1&&(a(0,"mat-error"),c(1,"Requerido"),r())}function ct(o,t){o&1&&(a(0,"mat-error"),c(1,"Requerido"),r())}var tt=(()=>{let t=class t{constructor(n){this._contactService=n,this.onContactCommited=new p,this.onContactRemoved=new p,this.form=new H({contact:new R("",[E.required]),type:new R("",[E.required])})}ngOnInit(){this.form.patchValue({contact:this.contactModel?.contact,type:this.contactModel?.type})}get contact(){return this.form.get("contact")}get type(){return this.form.get("type")}onSubmit(n){this.contactModel&&(this.contactModel.contact=this.form.value.contact,this.contactModel.type=this.form.value.type,this.onContactCommited.emit(this.contactModel))}remove(){this.onContactRemoved.emit(this.contactModel)}};t.\u0275fac=function(i){return new(i||t)(f(b))},t.\u0275cmp=C({type:t,selectors:[["app-contact"]],inputs:{contactModel:"contactModel",id:"id"},outputs:{onContactCommited:"onContactCommited",onContactRemoved:"onContactRemoved"},standalone:!0,features:[h],decls:18,vars:4,consts:[[3,"id","formGroup","submit"],["appearance","fill"],["matInput","","formControlName","contact","required",""],[4,"ngIf"],["matInput","","formControlName","type","required",""],["mat-mini-fab","","color","primary"],["mat-mini-fab","","color","warn","type","button",3,"click"]],template:function(i,e){i&1&&(a(0,"form",0),d("submit",function(et){return e.onSubmit(et)}),a(1,"mat-card")(2,"mat-form-field",1)(3,"mat-label"),c(4,"Contacto"),r(),I(5,"input",2),u(6,rt,2,0,"mat-error",3),r(),a(7,"mat-form-field",1)(8,"mat-label"),c(9,"Tipo"),r(),I(10,"input",4),u(11,ct,2,0,"mat-error",3),r(),a(12,"button",5)(13,"mat-icon"),c(14,"check"),r()(),a(15,"button",6),d("click",function(){return e.remove()}),a(16,"mat-icon"),c(17,"remove"),r()()()()),i&2&&(l("id","form"+e.id)("formGroup",e.form),s(6),l("ngIf",e.contact&&(e.contact.errors==null?null:e.contact.errors.required)),s(5),l("ngIf",e.type&&(e.type.errors==null?null:e.type.errors.required)))},dependencies:[M,D,v,P,$,A,B,G,Z,Y,W,J,j,L,z,U,X,K,Q,S,y,x,g],styles:["mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}mat-card[_ngcontent-%COMP%]{padding:10px}button[_ngcontent-%COMP%]{max-width:30px;max-height:30px}"]});let o=t;return o})();function mt(o,t){if(o&1){let m=N();a(0,"app-contact",4),d("onContactCommited",function(i){w(m);let e=_(2);return F(e.onContactCommited(i))})("onContactRemoved",function(i){w(m);let e=_(2);return F(e.onContactRemove(i))}),r()}if(o&2){let m=t.$implicit,n=t.$index;l("contactModel",m)("id",n)}}function st(o,t){if(o&1&&(a(0,"div",3),q(1,mt,1,2,"app-contact",5,V),r()),o&2){let m=_();s(1),k(m.contacts)}}var Dt=(()=>{let t=class t{constructor(n){this._contactService=n,this.onContactsChanged=new p}ngOnInit(){this.contacts&&this.contacts.length==0&&this.contacts.push(this._contactService.new())}onContactCommited(n){console.log(this.contacts)}add(){this.contacts?.push(this._contactService.new()),this.onContactsChanged.emit(this.contacts)}onContactRemove(n){this.contacts=this.contacts?.filter(i=>i!==n),this.contacts?.length==0&&this.contacts.push(this._contactService.new()),this.onContactsChanged.emit(this.contacts)}};t.\u0275fac=function(i){return new(i||t)(f(b))},t.\u0275cmp=C({type:t,selectors:[["app-contacts-creator"]],inputs:{contacts:"contacts"},outputs:{onContactsChanged:"onContactsChanged"},standalone:!0,features:[h],decls:7,vars:1,consts:[[1,"contacts-header"],["id","btnAdd","mat-mini-fab","","color","accent","type","button",3,"click"],["class","contact-list-container"],[1,"contact-list-container"],[3,"contactModel","id","onContactCommited","onContactRemoved"],[3,"contactModel","id"]],template:function(i,e){i&1&&(a(0,"div",0)(1,"h3"),c(2,"Contactos"),r(),a(3,"button",1),d("click",function(){return e.add()}),a(4,"mat-icon"),c(5,"add"),r()()(),u(6,st,3,0,"div",2)),i&2&&(s(6),O(6,e.contacts&&e.contacts.length>0?6:-1))},dependencies:[M,v,tt,S,y,x,g],styles:[".contacts-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:20px;align-items:center}#btnAdd[_ngcontent-%COMP%]{max-width:30px;max-height:30px}.contact-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]});let o=t;return o})();export{Dt as a};
